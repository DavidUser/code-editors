FROM alpine:3.10.3

RUN apk add vim

#Pathogen
RUN echo 'execute pathogen#infect() ' >> ~/.vimrc ; \
    echo 'syntax on                 ' >> ~/.vimrc ; \
    echo 'filetype plugin indent on ' >> ~/.vimrc
RUN apk add curl
RUN mkdir -p ~/.vim/autoload ~/.vim/bundle; \
    curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim;

# YouCompleteMe
RUN apk add git
RUN cd ~/.vim/bundle; \
    git clone --recursive --depth=1 --branch=master https://github.com/ycm-core/YouCompleteMe.git;
RUN apk add cmake make binutils g++ python3 python3-dev
RUN apk add clang-libs
RUN cd ~/.vim/bundle/YouCompleteMe; \
    python3 install.py --clang-completer

